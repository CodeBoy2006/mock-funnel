<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <title>mock-funnel 面板</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif; margin: 0; background: #0b0e14; color: #f0f3f6; }
    header { padding: 16px 20px; border-bottom: 1px solid #1f2937; position: sticky; top: 0; background: #0b0e14; }
    h1 { font-size: 20px; margin: 0; }
    main { padding: 20px; max-width: 1200px; margin: 0 auto; }
    .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; }
    .card { background: #111827; border: 1px solid #1f2937; border-radius: 10px; padding: 16px; }
    .card h3 { margin: 0 0 10px 0; font-size: 16px; }
    label { display: block; margin: 8px 0 4px; font-size: 12px; color: #9ca3af; }
    input[type="number"], input[type="text"] { width: 100%; padding: 8px; background: #0b1220; border: 1px solid #253245; color: #e5e7eb; border-radius: 6px; }
    input[type="checkbox"] { transform: scale(1.2); margin-right: 6px; }
    button { padding: 8px 12px; border: 1px solid #374151; background: #0b1220; color: #e5e7eb; border-radius: 6px; cursor: pointer; }
    button:hover { background: #111827; }
    .row { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
    .small { font-size: 12px; color: #9ca3af; }
    table { width: 100%; border-collapse: collapse; }
    th, td { text-align: left; border-bottom: 1px solid #1f2937; padding: 8px 6px; font-variant-numeric: tabular-nums; }
    canvas { width: 100%; height: 160px; background: #0b1220; border: 1px solid #1f2937; border-radius: 8px; }
    .footer { margin-top: 20px; font-size: 12px; color: #9ca3af; }
    @media (max-width: 850px) { .grid { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <header>
    <h1>mock-funnel 面板</h1>
    <div class="small">四条线路（外网统一、内网统一、外网正方、内网正方）的延迟/错误/宕机模拟 + 实时可视化</div>
  </header>
  <main>
    <section class="grid" id="cards"></section>
    <section class="card" style="margin-top:16px">
      <div style="display:flex; gap:8px; align-items:center; justify-content:space-between;">
        <div>
          <h3 style="margin:0 0 6px 0;">整体指标</h3>
          <div class="small">最近 60 秒每秒请求数（RPS）与平均延迟（ms）</div>
        </div>
        <div>
          <button id="resetBtn" title="清空历史指标（不影响配置）">清空指标</button>
        </div>
      </div>
      <div id="charts"></div>
    </section>
    <section class="footer small">
      <div>公共 mock 接口（无鉴权）：
        <code>/{line}/api/ping</code>，<code>/{line}/api/schedule</code>，<code>/{line}/api/grades</code>。
        其中 <code>{line}</code> ∈ <code>outer-unified | inner-unified | outer-zf | inner-zf</code>。
      </div>
      <div>HTTP 响应头会返回 <code>X-Mock-Line</code> 和 <code>X-Mock-Latency-Ms</code>。</div>
    </section>
  </main>
  <script src="/static/main.js"></script>
</body>
</html>
